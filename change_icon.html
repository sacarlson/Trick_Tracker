<!DOCTYPE html>
<!-- Copyright (c) 2016  Sacarlson  sacarlson_2000@yahoo.com -->
<html>
<head>
 <title>FunTracker Change User Icon</title>
 <meta name="viewport" content="width=device-width, initial-scale=1">
 <meta name="keywords" content=" real-time, Map, GPS, way points, mark">
 <meta name="description" content="Change what your GPS Tracked moving icon looks like on the FunTracker.site Map.">
 
 <link rel="stylesheet" href="w3.css">
 <script>
  "use strict";
 window.addEventListener("load", function(event) { 
  var id = localStorage.getItem("id");
  

  document.getElementById("site_hostname").innerHTML= get_site_hostname();
  document.getElementById("custom_path").innerHTML= '<img src="uploads/' + id + '_icon.png" >';

  function get_site_hostname() {
    var a = document.createElement('a');
    a.href = window.location.href;
    console.log("site hostname");
    console.log(a['hostname']);
    return a['hostname'];
  } 

 });

  var type = 0;
  var tracker_server ;
  var info ;
    
  var id = 0;
  var http = new XMLHttpRequest();
  var passkey;
  
  
  getId(); 
  //id = "206648"
  console.log ("id: " + id);

  

  function randomIntFromInterval(min,max) {
    return Math.floor(Math.random()*(max-min+1)+min);
  }

 

  function getId() {
    if (typeof(Storage) !== "undefined") {
       id = localStorage.getItem("id");
       info = encodeURI(localStorage.getItem("info"));
       tracker_server = localStorage.getItem("tracker_server");
       passkey = localStorage.getItem("passkey");
       console.log("tracker_server");
       console.log(tracker_server);
       if (id == null || id.length == 0) {
         console.log("id was undefined will create one");
         id = randomIntFromInterval(300000,999000);
         localStorage.setItem("id", id);
       } 
    } else {
       id = randomIntFromInterval(300000,999000);
       alert("Sorry, your browser does not support Web Storage.. your ID now: " + id);       
    }
  }



  
function getLocation() {
    if (navigator.geolocation) {
        //navigator.geolocation.watchPosition(showPosition);
        navigator.geolocation.getCurrentPosition(showPosition);
    } else { 
       alert("Geolocation is not supported by this browser.");
    }
}
    
function showPosition(position) {
    console.log("showposition");
    console.log( position.coords.latitude ); 
    console.log( position.coords.longitude );
    type = type + 1000;
    console.log( type);
    var timestamp = Math.floor(Date.now() / 1000);
    
//GET /?id=206648&timestamp=1459757028&lat=12.9304184&lon=100.8798106&speed=0.0&bearing=0.0&altitude=0.0&batt=100.0
    var url = tracker_server + "?id=" + id + "&passkey=" + passkey + "&timestamp=" + timestamp + "&lat=" + position.coords.latitude + "&lon=" + position.coords.longitude + "&type=" + type;
    
    console.log("url: " + url);	
    http.open("GET", url, true);
    http.send();
    console.log("get url");
    console.log(url);
    alert(" position sent lat: " + position.coords.latitude + " lon: " + position.coords.longitude + " type: " + type + " id: " + id );
}

window.onclick = function(event) {
  console.log("window onclick detected");
  if (!event.target.matches('.dropbtn')) {

    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}

//});

  function i_here() {
    type = 12;
    console.log("clicked i_here");
    getLocation();
  }

  // type 0 is also i_here but conflicts with other parts so i_here is also type 12

  // type 1 is scotty icon so don't use here

  function sexy() {
    type = 2;
    console.log("clicked sexy");
    getLocation();
  }

   function girl() {
    type = 3;
    console.log("clicked girl");
    getLocation();
  }

  // type 4 is short_girl but not supported yet

  function skiny_girl() {
    type = 5;
    console.log("clicked skiny_girl");
    getLocation();
  }

  function fat_girl() {
    type = 6;
    console.log("clicked fat_girl");
    getLocation();
  }

  function lady_boy() {
    type = 7;
    console.log("clicked lady_boy");
    getLocation();
  }

  function police_standing() {
    type = 8;
    console.log("clicked police_standing");
    getLocation();
  }

  function cop_running() {
    type = 9;
    console.log("clicked cop_running");
    getLocation();
  }

  function police_truck() {
    type = 10;
    console.log("clicked police_truck");
    getLocation();
  }
   
  function money_man() {
    type = 11;
    console.log("clicked money_man");
    getLocation();
  }

  function beer_party() {
    type = 13;
    console.log("clicked beer_party");
    getLocation();
  }

  function eating_here() {
    type = 14;
    console.log("clicked eating_here");
    getLocation();
  }

  function weed_party() {
    type = 15;
    console.log("clicked weed_party");
    getLocation();
  }

  // type 16 saved for  camera icon

  function bicycle() {
    type = 17;
    console.log("clicked biker");
    getLocation();
    //<img src="images_red/biker50x44.png" >
  }

  function hiker() {
    type = 18;
    console.log("clicked hiker");
    getLocation();
    //<img src="images_red/hiker33x52.png" >
  }

  function rollerblade() {
    type = 19;
    console.log("clicked rollerblade");
    getLocation();
    //<img src="images_red/rollerblade36x50.png" >
  }

  function skateboard() {
    type = 20;
    console.log("clicked skateboard");
    getLocation();
    //<img src="images_red/skateboard40x50.png" >
  }

  function motorbike() {
    type = 21;
    console.log("clicked motorbike");
    getLocation();
    //<img src="images_red/motor_bike50x50.png" >
  }

  function harlymotorbike() {
    type = 22;
    console.log("clicked harly");
    getLocation();
    //<img src="images_red/harly_motorbike52x32.png" >
  }

  function kitesurf() {
    type = 23;
    console.log("clicked kitesurf");
    getLocation();
    //<img src="images_red/kitesurf50x52.png" >
  }

  function windsurf() {
    type = 24;
    console.log("clicked windsurf");
    getLocation();
    //<img src="images_red/windsurf50x50.png" >
  }

  function motor_boat() {
    type = 25;
    console.log("clicked motor_boat");
    getLocation();
    //<img src="images_red/luxury-yacht-boat50x22.png" >
  }

  function sail_boat() {
    type = 26;
    console.log("clicked sail_boat");
    getLocation();
    //<img src="images_red/sailor-boat50x50.png" >
  }

  function hangglide() {
    type = 27;
    console.log("clicked hangglide");
    getLocation();
    //<img src="images_red/hang_glider50x45.png" >
  }

  function car() {
    type = 28;
    console.log("clicked car");
    getLocation();
    //<img src="images_red/car50x23.png" >
  }

  function pickup_truck() {
    type = 29;
    console.log("clicked car");
    getLocation();
    //<img src="images_red/pickup_truck52x20.png" >
  }
      

  function big_truck() {
    type = 30;
    console.log("clicked big_truck");
    getLocation();
    //<img src="images_red/transportation-truck50x22.png" >
  }
 
  function train() {
    type = 31;
    console.log("clicked train");
    getLocation();
    //<img src="images_red/train33x50.png" >
  }

  function remote_control() {
    type = 32;
    console.log("clicked train");
    getLocation();
    //<img src="images_red/remotecon41x50.png" >
  }

  function music() {
    type = 33;
    console.log("clicked music");
    getLocation();
    //<img src="images_red/music_band50x50.png" >
  }

  function chess() {
    type = 34;
    console.log("clicked chess");
    getLocation();
    //<img src="images_red/chess50x50.png" >
  }

  function pingpong() {
    type = 35;
    console.log("clicked pingpong");
    getLocation();
    //<img src="images_red/pingpong50x50.png" >
  }

  function billiards() {
    type = 36;
    console.log("clicked billiards");
    getLocation();
    //<img src="images_red/pool_billiards50x50.png" >
  }

  function badminton() {
    type = 37;
    console.log("clicked badminton");
    getLocation();
    //<img src="images_red/badminton50x50.png" >
  }

  function tennis() {
    type = 38;
    console.log("clicked tennis");
    getLocation();
    //<img src="images_red/tennis_50x50.png" >
  }

  function socker() {
    type = 39;
    console.log("clicked socker");
    getLocation();
    //<img src="images_red/socker_50x50.png" >
  }

  function basketball() {
    type = 40;
    console.log("clicked basketball");
    getLocation();
    //<img src="images_red/basketball_50x50.png" >
  }

  function user_custom() {
    type = 41;
    console.log("clicked user_custom");
    getLocation();
    //'<img src="uploads/' + id + '_icon.png" >'
  }

 // Close the dropdown if the user clicks outside of it


 

console.log("page loaded");
   


//});

 function dropDown() {
    document.getElementById("myDropdown").classList.toggle("show");
 }


   console.log("script loaded");                       
  </script>
<style>
.dropbtn {
    background-color: #4CAF50;
    color: white;
    padding: 16px;
    font-size: 16px;
    border: none;
    cursor: pointer;
}

.dropbtn:hover, .dropbtn:focus {
    background-color: #3e8e41;
}

.dropdown {
    position: relative;
    display: inline-block;
}

.dropdown-content {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    min-width: 160px;
    overflow: auto;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
}

.dropdown-content a {
    color: black;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
}

.dropdown a:hover {background-color: #f1f1f1}

.show {display:block;}

 a {
  font-size: calc(1vw + 1vh + 1vmin);
 }
</style>
</head>
<body>

<div class="w3-container w3-teal">
  <div class="dropdown">
    <button onclick="dropDown()" class="dropbtn">Menu</button>
    <div id="myDropdown" class="dropdown-content">
      <a href="chat.html">Real Time Chat</a>
      <a href="map.html">Map</a>
      <a href="config.html">Config</a>
      <a href="./shoot/index.html">Shoot Pic</a>
      <a href="./shoot/gallery.php">Gallery</a>   
    </div>
  </div>
  <h1><span id="site_hostname"></span> Change User Icon</h1>
</div>

<div class="w3-row-padding w3-margin-top">

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="user_custom" onclick="user_custom();" >
<!<img src="images_red/Im_here45x60.png" >
<span id="custom_path"></span>
<p>User Custom Type: 41</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="i_here" onclick="i_here();" >
<img src="images_red/icon_12.png" >
<p>I'm Here! Type: 12</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="beer_party" onclick="beer_party();">
<img src="images_red/icon_13.png" >
<p>Beer Party Type: 13</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="eating_here" onclick="eating_here();">
<img src="images_red/icon_14.png" >
<p>Eating Here Type: 14</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="weed_party" onclick="weed_party();">
<img src="images_red/icon_15.png" >
<p>Weed Party Type: 15</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="bicycle" onclick="bicycle();">
<img src="images_red/icon_17.png" >
<p>Bicycle Ride Type: 17</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="hiker" onclick="hiker();">
<img src="images_red/icon_18.png" >
<p>Hike or Walk Type: 18</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="rollerblade" onclick="rollerblade();">
<img src="images_red/icon_19.png" >
<p>RollerBlade Type: 19</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="skateboard" onclick="skateboard();">
<img src="images_red/icon_20.png" >
<p>Skate Board Type: 20</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="motorbike" onclick="motorbike();">
<img src="images_red/icon_21.png" >
<p>Motor Bike Ride Type: 21</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="harlymotorbike" onclick="harlymotorbike();">
<img src="images_red/icon_22.png" >
<p>Harly Motor Bike Ride Type: 22</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="kitesurf" onclick="kitesurf();">
<img src="images_red/icon_23.png" >
<p>Kite Surf Type: 23</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="windsurf" onclick="windsurf();">
<img src="images_red/icon_24.png" >
<p>Wind Surf Type: 24</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="motor_boat" onclick="motor_boat();">
<img src="images_red/icon_25.png" >
<p>Motor Boat Type: 25</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="sail_boat" onclick="sail_boat();">
<img src="images_red/icon_26.png" >
<p>Sail Boat Type: 26</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="hangglide" onclick="hangglide();">
<img src="images_red/icon_27.png" >
<p>Hang Glide Type: 27</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="car" onclick="car();">
<img src="images_red/icon_28.png" >
<p>By Car Type: 28</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="pickup_truck" onclick="pickup_truck();">
<img src="images_red/icon_29.png" >
<p>Pickup Truck Type: 29</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="big_truck" onclick="big_truck();">
<img src="images_red/icon_30.png" >
<p>Big Truck Type: 30</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="train" onclick="train();">
<img src="images_red/icon_31.png" >
<p>By Train Type: 31</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="remote_control" onclick="remote_control();">
<img src="images_red/icon_32.png" >
<p>Playing Remote Toys Type: 32</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="music" onclick="music();">
<img src="images_red/icon_33.png" >
<p>Playing Music Type: 33</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="chess" onclick="chess();">
<img src="images_red/icon_34.png" >
<p>Playing Chess Type: 34</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="pingpong" onclick="pingpong();">
<img src="images_red/icon_35.png" >
<p>Playing Pingpong Type: 35</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="billiards" onclick="billiards();">
<img src="images_red/icon_36.png" >
<p>Playing Pool or Billiards Type: 36</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="badminton" onclick="badminton();">
<img src="images_red/icon_37.png" >
<p>Playing Badminton Type: 37</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="tennis" onclick="tennis();">
<img src="images_red/icon_38.png" >
<p>Playing Tennis Type: 38</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="socker" onclick="socker();">
<img src="images_red/icon_39.png" >
<p>Playing Socker Type: 39</p>
</div>
</div>
</div>

<div class="w3-third">
<div class="w3-card-2" align="middle">
<div class="w3-btn w3-white w3-ripple" style="margin:5;padding:5;" name="basketball" onclick="basketball();">
<img src="images_red/icon_40.png" >
<p>Playing Basketball Type: 40</p>
</div>
</div>
</div>



</body>
</html>
